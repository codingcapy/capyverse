import{u as c,a as x,b as p,f as v,p as y,q as j,r as f,j as e,L as g,d as h}from"./index-Bml5Iw2r.js";function N(){const{user:i}=c(),a=x(),{data:n,isLoading:d,error:r}=p(v(i&&i.userId||"")),{mutate:m,isPending:s}=y(),{mutate:u,isPending:o}=j();return f.useEffect(()=>{i||a({to:"/login"})},[i]),e.jsxs("div",{className:"pt-[88px] px-2 md:px-0 mx-auto w-full md:w-[50%] 2xl:w-[40%]",children:[e.jsx("div",{className:"text-xl md:text-3xl font-bold",children:"Manage Communities"}),d?e.jsx("div",{}):r?e.jsx("div",{}):n?n.length>0?n.map(t=>e.jsxs("div",{className:"flex justify-between my-5",children:[e.jsx(g,{to:"/c/$communityId",params:{communityId:t.communityId},children:e.jsxs("div",{className:"flex hover:text-cyan-500 transition-all ease-in-out duration-300",children:[e.jsx("img",{src:t.icon?t.icon:h,alt:"",className:"rounded-full w-[30px] h-[30px]"}),e.jsxs("div",{className:"ml-1 pt-1",children:["c/",t.communityId]})]})},t.communityId),n.some(l=>l.communityId===t.communityId)?e.jsx("div",{onClick:()=>{o||u({communityId:t&&t.communityId||""})},className:"px-3 py-1 rounded-full border cursor-pointer hover:bg-[#333333] transition-all ease-in-out duration-300",children:o?"Leaving...":"Joined"}):e.jsx("div",{onClick:()=>{s||m({communityId:t&&t.communityId||""})},className:"px-5 py-3 rounded-full bg-cyan-700 cursor-pointer hover:bg-cyan-500 transition-all ease-in-out duration-300",children:s?"Joining...":"Join"})]},t.communityId)):e.jsxs("div",{children:[e.jsx("div",{className:"text-lg md:text-xl font-bold text-center mt-10",children:"No communities yet!"}),e.jsx("div",{className:"text-center my-2",children:"Join a community to see popular posts about topics that interest you."})]}):e.jsx("div",{})]})}export{N as component};
