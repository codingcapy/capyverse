import{u as f,r as a,b as p,j as e,L as h,d as j}from"./index-9qco9U0i.js";import{u as v,d as b}from"./Menu-DsP9Kgep.js";import{c as g}from"./images-CKjy6j5j.js";import{C,a as N}from"./CommentMenu-DUmQAakb.js";import{g as y}from"./users-BMKKfW7s.js";function S(t){const{user:w}=f(),[d,r]=a.useState(!1),[i,n]=a.useState(!1),[D,l]=a.useState(""),{mutate:c,isPending:m}=v(),{data:o,isLoading:u,error:x}=p(y(t.comment.userId));return e.jsxs("div",{className:"mx-auto w-full md:w-[50%] 2xl:w-[750px] border-t border-[#636363]",children:[u?e.jsx("div",{children:"Loading..."}):x?e.jsx("div",{children:"Error loading poster"}):o?e.jsx(h,{to:"/posts/$postId",params:{postId:t.comment.postId.toString()},children:e.jsxs("div",{className:"relative my-1 rounded py-2 px-4 hover:bg-[#333333] transition-all ease-in-out duration-300",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex text-[#bdbdbd] text-sm",children:[e.jsx("img",{src:o.profilePic?o.profilePic:j,alt:"",className:"w-6 h-6 rounded-full"}),e.jsx("div",{className:"font-bold ml-2",children:o.username}),e.jsx("div",{className:"px-1",children:"•"}),e.jsx("div",{children:b(t.comment.createdAt)})]}),e.jsx("div",{onClick:s=>{s.stopPropagation(),s.preventDefault(),r(!d)},className:"absolute top-1 right-1 p-3 rounded-full hover:bg-[#575757] transition-all ease-in-out duration-300",children:e.jsx(g,{})})]}),e.jsx("div",{children:t.comment.content}),e.jsx(C,{comment:t.comment}),d&&e.jsx(N,{comment:t.comment,setDeleteMode:n,setShowMenu:r,setCommentContent:l})]})},t.comment.postId):e.jsx("div",{}),i&&e.jsxs("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-[#222222] p-6 rounded shadow-lg w-[90%] max-w-md text-center z-100",children:[e.jsx("div",{className:"text-2xl font-bold",children:"Delete Comment?"}),e.jsx("div",{className:"my-5",children:"Once you delete this comment, it can’t be restored."}),e.jsxs("div",{className:"my-5 flex justify-end",children:[e.jsx("div",{onClick:s=>{s.stopPropagation(),s.preventDefault(),!m&&(c({commentId:t.comment.commentId}),n(!1))},className:"p-2 mr-1 bg-red-500 rounded text-white bold secondary-font font-bold cursor-pointer",children:m?"Deleting...":"DELETE"}),e.jsx("div",{onClick:s=>{s.stopPropagation(),s.preventDefault(),n(!1)},className:"p-2 ml-1 bg-[#5c5c5c] rounded bold secondary-font font-bold cursor-pointer",children:"CANCEL"})]})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black opacity-50 z-90"})]},t.comment.commentId)}export{S as C};
