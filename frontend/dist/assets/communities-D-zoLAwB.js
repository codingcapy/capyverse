import{u as c,a as x,b as p,f as y,p as v,q as j,r as f,j as e,L as g,d as h}from"./index-BRwIHByB.js";function N(){const{user:t}=c(),a=x(),{data:s,isLoading:d,error:r}=p(y(t&&t.userId||"")),{mutate:m,isPending:n}=v(),{mutate:u,isPending:o}=j();return f.useEffect(()=>{t||a({to:"/login"})},[t]),e.jsxs("div",{className:"pt-[88px] px-2 md:px-0 mx-auto w-full md:w-[50%] 2xl:w-[40%]",children:[e.jsx("div",{className:"text-xl md:text-3xl font-bold",children:"Manage Communities"}),d?e.jsx("div",{}):r?e.jsx("div",{}):s?s.length>0?s.map(i=>e.jsxs("div",{className:"flex justify-between my-5",children:[e.jsx(g,{to:"/c/$communityId",params:{communityId:i.communityId},children:e.jsxs("div",{className:"flex hover:text-cyan-500 transition-all ease-in-out duration-300",children:[e.jsx("img",{src:h,alt:"",className:"rounded-full w-[30px] h-[30px]"}),e.jsxs("div",{className:"ml-1 pt-1",children:["c/",i.communityId]})]})},i.communityId),s.some(l=>l.communityId===i.communityId)?e.jsx("div",{onClick:()=>{o||u({communityId:i&&i.communityId||"",userId:t&&t.userId||""})},className:"px-3 py-1 rounded-full border cursor-pointer hover:bg-[#333333] transition-all ease-in-out duration-300",children:o?"Leaving...":"Joined"}):e.jsx("div",{onClick:()=>{n||m({communityId:i&&i.communityId||"",userId:t&&t.userId||""})},className:"px-5 py-3 rounded-full bg-cyan-700 cursor-pointer hover:bg-cyan-500 transition-all ease-in-out duration-300",children:n?"Joining...":"Join"})]})):e.jsxs("div",{children:[e.jsx("div",{className:"text-lg md:text-xl font-bold text-center mt-10",children:"No communities yet!"}),e.jsx("div",{className:"text-center my-2",children:"Join a community to see popular posts about topics that interest you."})]}):e.jsx("div",{})]})}export{N as component};
