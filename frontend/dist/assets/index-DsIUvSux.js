import{G as m,j as t,L as x,g as f}from"./index-CayKkkm5.js";import{V as u,u as h}from"./VotesComponent-Df0QrBus.js";function p(e){return m({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},child:[]}]})(e)}function j(e){const s=typeof e=="string"?new Date(e.replace(" ","T")+"Z"):e,a=Date.now();let o=Math.floor((a-s.getTime())/1e3);const n=new Intl.RelativeTimeFormat("en",{numeric:"auto"});if(o<60)return n.format(-o,"second");const r=Math.floor(o/60);if(r<60)return n.format(-r,"minute");const l=Math.floor(r/60);if(l<24)return n.format(-l,"hour");const i=Math.floor(l/24);if(i<30)return n.format(-i,"day");const d=Math.floor(i/30);if(d<12)return n.format(-d,"month");const c=Math.floor(d/12);return n.format(-c,"year")}function v(e){return t.jsx(x,{to:"/posts/$postId",params:{postId:e.post.postId.toString()},className:"mx-auto w-full lg:w-[50%] 2xl:w-[750px] border-t border-[#636363]",children:t.jsxs("div",{className:"relative my-1 rounded p-5 hover:bg-[#3e3e3e] transition-all ease-in-out duration-300",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{className:"flex text-[#bdbdbd] text-sm",children:[t.jsx("div",{className:"font-bold",children:e.post.username}),t.jsx("div",{className:"px-1",children:"â€¢"}),t.jsx("div",{children:j(e.post.createdAt)})]}),t.jsx("div",{onClick:s=>{s.stopPropagation(),s.preventDefault(),console.log("clicked")},className:"absolute top-1 right-1 p-3 rounded-full hover:bg-[#575757] transition-all ease-in-out duration-300",children:t.jsx(p,{})})]}),t.jsx("div",{className:"text-2xl font-bold",children:e.post.title}),t.jsx("div",{className:"my-2",children:e.post.content}),t.jsx(u,{post:e.post})]})},e.post.postId)}function N(){const{data:e,isPending:s,isError:a}=h(f());return t.jsxs("div",{className:"flex-1 p-2",children:[t.jsx("div",{className:"text-center text-cyan-500 text-2xl font-bold pt-20 pb-5",children:"Index"}),t.jsx("div",{className:"flex flex-col",children:a?t.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Error fetching posts"}):s?t.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Loading..."}):e?.map(o=>t.jsx(v,{post:o},o.postId))})]})}export{N as component};
