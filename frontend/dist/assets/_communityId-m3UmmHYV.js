import{E as v,a as h,u as y,b as c,r as x,j as e,G as f,k as N}from"./index-Bf8L_6SI.js";function g(){const{communityId:t}=v.useParams(),d=h(),{user:a}=y(),{data:i,isLoading:o,error:m}=c(f(t)),{data:s,isLoading:u,error:j}=c(N(t)),[n,l]=x.useState("mods");return x.useEffect(()=>{o||(m&&d({to:"/"}),a||d({to:"/"}),i&&a&&!i.some(r=>r.username===a.username)&&d({to:"/"}))},[a,i]),e.jsx("div",{className:"pt-[70px] mx-auto",children:u?e.jsx("div",{className:"p-5 lg:pl-[170px]",children:"Loading community..."}):j?e.jsx("div",{className:"p-5 lg:pl-[170px]",children:"Error loading community"}):s?e.jsxs("div",{className:"p-5 lg:px-0 lg:pl-[170px]",children:[e.jsx("div",{className:"text-3xl font-bold",children:"Settings"}),e.jsxs("div",{className:"my-5",children:[e.jsxs("div",{className:"flex justify-between max-w-[700px] w-[70vw] 2xl:max-w-[1000px] my-2",children:[e.jsx("div",{className:"",children:"Display name"}),e.jsx("div",{children:s.communityId})]}),e.jsxs("div",{className:"flex justify-between max-w-[700px] 2xl:max-w-[1000px] my-2",children:[e.jsx("div",{className:"mr-10",children:"Description"}),e.jsx("div",{className:"line-clamp-1",children:s.description})]}),e.jsxs("div",{className:"flex justify-between max-w-[700px] 2xl:max-w-[1000px] my-2",children:[e.jsx("div",{className:"",children:"Community Type"}),e.jsx("div",{className:"capitalize",children:s.visibility})]}),e.jsxs("div",{className:"flex justify-between max-w-[700px] 2xl:max-w-[1000px] my-2",children:[e.jsx("div",{className:"",children:"Mature (18+)"}),e.jsx("div",{children:s.mature?s.mature.toString():"Off"})]})]}),e.jsx("div",{className:"text-3xl font-bold",children:"Mods & Members"}),e.jsxs("div",{className:"my-5 flex",children:[e.jsx("div",{onClick:()=>l("mods"),className:`pr-2 cursor-pointer ${n==="mods"&&"underline font-bold"}`,children:"Moderators"}),e.jsx("div",{onClick:()=>l("members"),className:`px-2 cursor-pointer ${n==="members"&&"underline font-bold"}`,children:"Members"})]}),e.jsxs("div",{className:"flex justify-between font-bold border-y border-[#555555] py-2 mb-5",children:[e.jsx("div",{children:"USERNAME"}),e.jsx("div",{children:"JOINED"})]}),o?e.jsx("div",{children:"Loading moderators..."}):m?e.jsx("div",{children:"Error loading moderators"}):i?n==="mods"?i.map(r=>{const p=new Date(r.createdAt);return e.jsxs("div",{className:"flex justify-between",children:[e.jsx("div",{children:r.username}),e.jsx("div",{children:p.toLocaleString()})]},r.communityUserId)}):e.jsx("div",{}):e.jsx("div",{})]}):e.jsx("div",{})})}export{g as component};
