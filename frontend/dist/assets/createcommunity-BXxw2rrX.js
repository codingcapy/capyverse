import{r as n,a as h,u as v,e as y,j as e}from"./index-yPHRt_sz.js";import{P as j}from"./PostContentInput-Dr3sjeXr.js";import"./index-cWtVaqqx.js";function w(){const[c,a]=n.useState(!1),u=n.useRef(null),[i,m]=n.useState(""),[p,b]=n.useState(""),o=h(),{user:r}=v(),[s,d]=n.useState(""),{mutate:f,isPending:l}=y();function x(t){t.preventDefault(),!l&&f({communityId:s,title:s,description:i},{onSuccess:()=>o({to:`/c/${s}`})})}return n.useEffect(()=>{r||o({to:"/login"})},[r]),e.jsxs("div",{className:"pt-20 w-[80%] lg:w-[50%] 2xl:w-[30%] mx-auto",children:[e.jsx("div",{className:"text-center font-bold text-cyan-500 text-2xl mb-5",children:"Create Community"}),e.jsxs("form",{onSubmit:x,className:"flex flex-col mx-auto ",children:[e.jsxs("div",{className:"p-2 border border-[#c4c4c4] rounded-xl my-2 flex",children:[e.jsx("div",{className:"text-[#919191]",children:"c/"}),e.jsx("input",{type:"text",name:"titleinput",id:"title",required:!0,value:s,onChange:t=>{const g=t.target.value.replace(/\s+/g,"");d(g)},className:"w-full outline-none",placeholder:"Community name "})]}),e.jsxs("div",{onDragEnter:t=>{t.preventDefault(),a(!0)},onDragOver:t=>{t.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:t=>{t.preventDefault(),a(!1)},className:`my-5 border border-dashed w-full h-[150px] rounded-xl ${c?"bg-[#242424]":""}`,children:[e.jsx("input",{ref:u,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/heic, image/webp"}),e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"text-center pt-[60px]",children:"Drag and drop or upload community icon"}),e.jsx("input",{type:"file",className:"absolute top-0 left-0 w-full h-full py-2 opacity-0 cursor-pointer appearance-none file:hidden",accept:"image/png, image/jpeg, image/heic, image/webp"})]})]}),e.jsx(j,{content:i,onChange:t=>m(t),contentPlaceholder:"Description"}),e.jsx("button",{className:"bg-cyan-600 px-5 py-2 rounded-full font-bold my-5 cursor-pointer hover:bg-cyan-500 transition-all ease-in-out duration-300",children:l?"Creating...":"Create Community"})]}),e.jsx("div",{children:p})]})}export{w as component};
