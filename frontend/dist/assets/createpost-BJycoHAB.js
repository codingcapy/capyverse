import{a as x,b as p,r as f,j as t}from"./index-CmEL-dfM.js";import{u as b}from"./posts-DZFSQIVM.js";import"./client-CATr2LOA.js";function v(){const{user:o}=x(),{mutate:s,isPending:a,error:r}=b(),i=p(),[c,n]=f.useState("");function u(e){if(e.preventDefault(),!o)return"Error: no logged in user";const l=e.target.titleinput.value,d=e.target.content.value;s({userId:o.userId||"",title:l,content:d},{onSuccess:()=>i({to:"/"}),onError:m=>n(m.toString())}),r&&n(r.toString())}return t.jsxs("div",{className:"pt-20 w-[300px] mx-auto",children:[t.jsx("div",{className:"text-center font-bold text-cyan-500 text-2xl mb-10",children:"Create Post"}),t.jsxs("form",{onSubmit:u,className:"flex flex-col mx-auto",children:[t.jsx("input",{type:"text",name:"titleinput",id:"title",required:!0,className:"p-2 border border-[#c4c4c4] rounded bg-[#414141] my-2",placeholder:"title"}),t.jsx("textarea",{name:"content",id:"content",required:!0,className:"p-2 border border-[#c4c4c4] rounded bg-[#414141] my-2",placeholder:"content"}),t.jsx("button",{className:"bg-cyan-500 px-5 py-2 rounded-full font-bold my-5",children:a?"Loading...":"POST"})]}),t.jsx("div",{children:c})]})}export{v as component};
