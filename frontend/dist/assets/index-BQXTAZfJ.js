import{d as c,j as e,e as x,f as m,r as a}from"./index-CiYj8PkR.js";import{P as p}from"./Menu-DO-O4rM8.js";import{u as d}from"./images-D2N2NQ0m.js";import{P as i}from"./PostThumbnail-DtETiUEQ.js";import"./users-CBTXaJNw.js";function f(){const{data:o,isPending:r,error:n}=d(x()),{searchContent:t}=c();return e.jsx("div",{children:n?e.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Error fetching posts"}):r?e.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Loading..."}):o?o.map(s=>t===""?e.jsx(i,{post:s},s.postId):s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())?e.jsx(i,{post:s},s.postId):""):e.jsx("div",{children:"No posts! Be the first to create one."})})}function h(){const{data:o,isPending:r,error:n}=d(m()),{searchContent:t}=c();return e.jsx("div",{children:n?e.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Error fetching posts"}):r?e.jsx("div",{className:"mx-auto w-full lg:w-[50%]",children:"Loading..."}):o?o.map(s=>t===""?e.jsx(i,{post:s},s.postId):s.title.toLowerCase().includes(t.toLowerCase())||s.content.toLowerCase().includes(t.toLowerCase())?e.jsx(i,{post:s},s.postId):""):e.jsx("div",{children:"No posts! Be the first to create one."})})}function C(){const[o,r]=a.useState(!1),[n,t]=a.useState("Popular"),s=a.useRef(null);function l(u){s.current&&!s.current.contains(u.target)&&r(!1)}return a.useEffect(()=>(document.addEventListener("click",l),()=>document.removeEventListener("click",l)),[]),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"mx-auto w-full md:w-[50%] pt-[70px] pb-5 ",children:e.jsxs("div",{ref:s,className:"relative mx-auto w-full 2xl:w-[750px] flex",children:[e.jsxs("div",{onClick:()=>r(!o),className:"flex cursor-pointer pl-4 md:pl-0 md:pt-1 hover:text-cyan-500 transition-all ease-in-out duration-300",children:[e.jsx("div",{className:"text-xs",children:n}),e.jsx("div",{className:"ml-2",children:e.jsx(p,{})})]}),o&&e.jsxs("div",{onClick:()=>{},className:"absolute top-6 left-0 bg-[#444444] px-5 py-2 z-50 shadow-[0_0_15px_rgba(0,0,0,0.7)]",children:[e.jsx("div",{onClick:()=>{t("Popular"),r(!1)},className:" py-1 cursor-pointer hover:text-cyan-500 transition-all ease-in-out duration-300",children:"Popular"}),e.jsx("div",{onClick:()=>{t("New"),r(!1)},className:"py-1 cursor-pointer hover:text-cyan-500 transition-all ease-in-out duration-300",children:"New"})]})]})}),n==="Popular"?e.jsx(h,{}):e.jsx(f,{})]})})}export{C as component};
