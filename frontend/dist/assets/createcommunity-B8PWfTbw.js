import{r as s,a as y,u as N,h as C,j as e}from"./index-lSTVWf8_.js";import{P as w}from"./PostContentInput-Btx_aU1e.js";import"./index-Cv-hzv7k.js";function k(){const[p,n]=s.useState(!1),x=s.useRef(null),[c,f]=s.useState(""),[v,D]=s.useState(""),d=y(),{user:i}=N(),[l,h]=s.useState(""),{mutate:g,isPending:u}=C(),[a,m]=s.useState(!1),[r,o]=s.useState("public");function b(t){t.preventDefault(),!u&&g({communityId:l,description:c,userId:i&&i.userId||"",mature:a,visibility:r},{onSuccess:()=>d({to:`/c/${l}`})})}return s.useEffect(()=>{i||d({to:"/login"})},[i]),e.jsxs("div",{className:"pt-20 w-[80%] lg:w-[50%] 2xl:w-[30%] mx-auto",children:[e.jsx("div",{className:"text-center font-bold text-cyan-500 text-2xl mb-5",children:"Create Community"}),e.jsxs("form",{onSubmit:b,className:"flex flex-col mx-auto ",children:[e.jsxs("div",{className:"p-2 border border-[#c4c4c4] rounded-xl my-2 flex",children:[e.jsx("div",{className:"text-[#919191]",children:"c/"}),e.jsx("input",{type:"text",name:"titleinput",id:"title",required:!0,value:l,onChange:t=>{const j=t.target.value.replace(/\s+/g,"");h(j)},className:"w-full outline-none",placeholder:"Community name "})]}),e.jsxs("div",{onDragEnter:t=>{t.preventDefault(),n(!0)},onDragOver:t=>{t.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:t=>{t.preventDefault(),n(!1)},className:`my-5 border border-dashed w-full h-[150px] rounded-xl ${p?"bg-[#242424]":""}`,children:[e.jsx("input",{ref:x,type:"file",className:"hidden",accept:"image/png, image/jpeg, image/heic, image/webp"}),e.jsxs("div",{className:"relative w-full h-full",children:[e.jsx("div",{className:"text-center pt-[60px]",children:"Drag and drop or upload community icon"}),e.jsx("input",{type:"file",className:"absolute top-0 left-0 w-full h-full py-2 opacity-0 cursor-pointer appearance-none file:hidden",accept:"image/png, image/jpeg, image/heic, image/webp"})]})]}),e.jsx(w,{content:c,onChange:t=>f(t),contentPlaceholder:"Description"}),e.jsxs("div",{className:"my-2",children:[e.jsx("div",{className:"text-xl mb-2 font-semibold",children:"Visibility"}),e.jsxs("div",{onClick:()=>o("public"),className:`p-2 cursor-pointer ${r==="public"&&"bg-[#555555]"}`,children:[e.jsx("div",{children:"Public"}),e.jsx("div",{className:"text-sm",children:"Anyone can view, post and comment to this community"})]}),e.jsxs("div",{onClick:()=>o("restricted"),className:`p-2 cursor-pointer ${r==="restricted"&&"bg-[#555555]"}`,children:[e.jsx("div",{children:"Restricted"}),e.jsx("div",{className:"text-sm",children:"Anyone can view, but only approved users can contribute"})]}),e.jsxs("div",{onClick:()=>o("private"),className:`p-2 cursor-pointer ${r==="private"&&"bg-[#555555]"}`,children:[e.jsx("div",{children:"Private"}),e.jsx("div",{className:"text-sm",children:"Only approved users can view and contribute"})]})]}),e.jsxs("div",{className:"my-3",children:[e.jsx("div",{children:"Mature (18+)"}),e.jsx("div",{className:"text-sm",children:"Users must be over 18 to view and contribute"}),e.jsx("div",{className:"mt-2",children:e.jsxs("div",{className:`inline-flex items-center justify-center gap-0 mb-2 ${a?"bg-cyan-500":"bg-[#666666]"} rounded-full shadow-[inset_-1px_0px_4.8px_rgba(0,0,0,0.5)]`,children:[e.jsx("div",{className:`h-[25px] w-[25px] rounded-full font-bold text-lg tracking-wide transition-all duration-300 ease-in-out ${a?"bg-transparent":"bg-white"}`,style:{fontFamily:"'Nunito Sans', sans-serif"},onClick:()=>m(!1)}),e.jsx("div",{className:`h-[25px] w-[25px] rounded-full font-bold text-lg tracking-wide transition-all duration-300 ease-in-out ${a?"bg-white":"bg-transparent"}`,style:{fontFamily:"'Nunito Sans', sans-serif"},onClick:()=>m(!0)})]})})]}),e.jsx("button",{className:"bg-cyan-600 px-5 py-2 rounded-full font-bold my-5 cursor-pointer hover:bg-cyan-500 transition-all ease-in-out duration-300",children:u?"Creating...":"Create Community"})]}),e.jsx("div",{children:v})]})}export{k as component};
