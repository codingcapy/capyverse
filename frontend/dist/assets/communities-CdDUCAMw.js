import{R as l,b as m,j as e,L as c,d,i as x}from"./index-Bb-vKxZV.js";import{p as u}from"./purify.es-A66Cw1IH.js";function h(){const n=l.useNavigate(),{page:a}=l.useSearch(),{data:t,isLoading:o,error:r}=m(x(a));return e.jsxs("div",{className:"pt-[88px] px-2 lg:px-0 mx-auto w-full ",children:[e.jsx("div",{className:"text-xl text-center md:text-3xl font-bold mb-10",children:"Capyverse Communities"}),e.jsx("div",{className:"lg:pl-[300px] sm:grid grid-cols-4 gap-5 2xl:w-[95%]",children:o?e.jsx("div",{}):r?e.jsx("div",{}):t?t.communities.length>0?t.communities.map((s,i)=>e.jsxs("div",{className:"flex my-5 sm:my-0",children:[e.jsx("div",{className:"mr-3 sm:mr-5 pt-2",children:(a-1)*250+i+1}),e.jsx(c,{to:"/c/$communityId",params:{communityId:s.communityId},children:e.jsxs("div",{className:"flex hover:text-cyan-500 transition-all ease-in-out duration-300",children:[e.jsx("img",{src:s.icon?s.icon:d,alt:"",className:"rounded-full w-[30px] h-[30px]"}),e.jsxs("div",{children:[e.jsxs("div",{className:"ml-1 pt-1 font-bold",children:["c/",s.communityId]}),e.jsx("div",{className:"line-clamp-1 text-[#999999]",dangerouslySetInnerHTML:{__html:u.sanitize(s.description,{ALLOWED_TAGS:["b","i","u","s","strong","em","ul","ol","li","p","a"],ALLOWED_ATTR:["href","target","rel"],FORBID_ATTR:["style"]})}})]})]})},s.communityId)]},s.communityId)):e.jsxs("div",{children:[e.jsx("div",{className:"text-lg md:text-xl font-bold text-center mt-10",children:"No communities yet!"}),e.jsx("div",{className:"text-center my-2",children:"Join a community to see popular posts about topics that interest you."})]}):e.jsx("div",{})}),t&&t.totalPages>1&&e.jsx("div",{className:"flex justify-center gap-2 mt-10",children:Array.from({length:t.totalPages},(s,i)=>i+1).map(s=>e.jsx("button",{onClick:()=>n({search:i=>({...i,page:s})}),className:`px-3 py-1 rounded ${s===a?"text-cyan-500":""}`,children:s},s))})]})}export{h as component};
